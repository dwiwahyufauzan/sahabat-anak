# üîê Environment Variables Quick Reference

## Backend (.env)

```bash
# Database (Required)
DB_HOST=localhost
DB_PORT=3306
DB_USER=root
DB_PASSWORD=your_password
DB_NAME=sahabat_anak

# Server
PORT=3000                                    # Optional (default: 3000)
NODE_ENV=development                         # Optional (default: development)
FRONTEND_URL=http://localhost:5173          # Required (HTTPS in production!)

# Security (Required - Min 32 chars!)
JWT_SECRET=generate-with-openssl-rand-base64-64

# Email SMTP (Required)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false                            # Optional (default: false)
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password
```

### Generate JWT Secret:
```bash
# Linux/Mac
openssl rand -base64 64

# Windows PowerShell
[Convert]::ToBase64String((1..64 | ForEach-Object { Get-Random -Maximum 256 }))
```

---

## Frontend (.env)

```bash
# API URL (Required for production)
VITE_API_URL=http://localhost:3000/api      # Development
VITE_API_URL=https://api.your-domain.com/api # Production
```

---

## Quick Setup

```bash
# Backend
cd backend
cp .env.example .env
# Edit .env with your values
bun install
bun run dev

# Frontend
cd frontend  
cp .env.example .env
# Edit .env with your values
bun install
bun run dev
```

---

## Common Issues

| Error | Fix |
|-------|-----|
| JWT_SECRET too short | Must be 32+ characters |
| FRONTEND_URL invalid | Include http:// or https:// |
| Database connection failed | Check DB is running and credentials are correct |
| Frontend can't connect | Check VITE_API_URL matches backend URL |

---

## Security Checklist

- [ ] JWT_SECRET is 32+ characters and random
- [ ] Different secrets for dev/prod
- [ ] FRONTEND_URL uses HTTPS in production
- [ ] .env is in .gitignore (never commit!)
- [ ] SMTP credentials are secure
- [ ] Database password is strong

---

## Usage in Code

### Backend:
```typescript
import { env } from './config/env';

// Type-safe, validated access
const secret = env.JWT_SECRET;
const dbHost = env.DB_HOST;
```

### Frontend:
```typescript
import config from '$lib/config';

// Environment-aware
const apiUrl = config.apiUrl;
```

---

üìñ **Full Guide**: [ENV_SETUP.md](ENV_SETUP.md)  
üîí **Security Details**: [SECURITY_IMPROVEMENTS_ENV.md](SECURITY_IMPROVEMENTS_ENV.md)
